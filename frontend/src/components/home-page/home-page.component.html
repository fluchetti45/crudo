<main>
  <!-- Hero Section -->
  <section class="hero-section bg-primary text-white py-5 mb-5">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-md-6">
          <h1 class="display-4">Bienvenido a CRUDO</h1>
          <p class="lead">
            Descubre nuestra selección de productos de alta calidad.
          </p>
        </div>
        <div class="col-md-6">
          <img
            src="/images/hero-background.jpg"
            alt="Hero Image"
            class="img-fluid rounded"
          />
        </div>
      </div>
    </div>
  </section>

  <!-- Featured Products -->
  <section class="featured-products mb-5">
    <div class="container">
      <h2 class="text-center mb-4">Productos Destacados</h2>
      <ng-container *ngIf="!(error$ | async); else errorTemplate">
        <div
          *ngIf="loading$ | async; else productsTemplate"
          class="text-center"
        >
          <div class="spinner-border" role="status">
            <span class="visually-hidden">Cargando...</span>
          </div>
        </div>
      </ng-container>
    </div>
  </section>

  <!-- Special Offer -->
  <section class="special-offer bg-light py-5 mb-5">
    <div class="container text-center">
      <div class="row align-items-center">
        <div class="col-md-6">
          <h2>Oferta Especial</h2>
          <p class="lead">¡No te pierdas nuestra oferta del mes!</p>
          <p>
            Usa el código <strong>CRUDO10</strong> y obtene un descuento en tu
            próxima compra.
          </p>
          <div class="row mt-3">
            <div class="col-md-6 mb-2">
              <div class="card text-center h-100 border-primary">
                <div class="card-body">
                  <i
                    class="bi bi-credit-card text-primary"
                    style="font-size: 2rem"
                  ></i>
                  <h5 class="card-title mt-2">3 Cuotas sin interés</h5>
                  <p class="card-text">
                    En todos nuestros productos con tarjetas seleccionadas.
                  </p>
                </div>
              </div>
            </div>
            <div class="col-md-6 mb-2">
              <div class="card text-center h-100 border-primary">
                <div class="card-body">
                  <i
                    class="bi bi-truck text-primary"
                    style="font-size: 2rem"
                  ></i>
                  <h5 class="card-title mt-2">Envíos a todo el país</h5>
                  <p class="card-text">
                    Gratis en compras superiores a $50,000.
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <img
            src="/images/special-offer.jpg"
            alt="Special Offer"
            class="img-fluid rounded"
          />
        </div>
      </div>
    </div>
  </section>

  <!-- Testimonials -->
  <section class="testimonials mb-5">
    <div class="container">
      <h2 class="text-center mb-4">Lo que dicen nuestros clientes</h2>
      <div class="row">
        <div class="col-md-4 mb-3" *ngFor="let testimonial of testimonials">
          <div class="card">
            <div class="card-body">
              <p class="card-text">{{ testimonial.comment }}</p>
              <footer class="blockquote-footer">
                {{ testimonial.author }}
              </footer>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</main>

<ng-template #productsTemplate>
  <app-ui-block-products></app-ui-block-products>
</ng-template>

<ng-template #errorTemplate>
  <app-error
    [title]="'Error al cargar los productos'"
    [message]="(error$ | async) || 'Algo fallo'"
  ></app-error>
</ng-template>
